import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.58083d22.js";const h=JSON.parse('{"title":"script 任务","description":"","frontmatter":{},"headers":[],"relativePath":"guide/task-script.md","filePath":"guide/task-script.md","lastUpdated":1696985871000}'),p={name:"guide/task-script.md"},e=l(`<h1 id="script-任务" tabindex="-1">script 任务 <a class="header-anchor" href="#script-任务" aria-label="Permalink to &quot;script 任务&quot;">​</a></h1><h2 id="process-flow" tabindex="-1">处理流程 <a class="header-anchor" href="#process-flow" aria-label="Permalink to &quot;处理流程 {#process-flow}&quot;">​</a></h2><ul><li>设置变量处理 <blockquote><p>环境变量注入</p></blockquote></li><li>别名替换 <blockquote><p>静态替换 <code>alias</code> 对应的字符串</p></blockquote></li><li>自定义处理流程 <blockquote><p>处理 <code>pipflow.config.js</code> 中添加的自定义 <code>plugins</code></p></blockquote></li><li>babel转译 <blockquote><p>babel 转译</p></blockquote></li><li>压缩处理 <blockquote><p>基于 <code>terser</code> 压缩混淆</p></blockquote></li><li>源码映射 sourcemap <blockquote><p>生成 source map 文件</p></blockquote></li><li>文件指纹 <blockquote><p>生成文件hash, 支持 <code>[name]-[hash]</code> 和 <code>[name]?[hash]</code> 两种方式。</p></blockquote></li></ul><h2 id="文件入口" tabindex="-1">文件入口 <a class="header-anchor" href="#文件入口" aria-label="Permalink to &quot;文件入口&quot;">​</a></h2><p>文件入口配置支持 单一字符串，数组，和对象 3 种方式。</p><ol><li>单一通配符</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">input</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;./src/scripts/**/*.{js,mjs}&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">input</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;./src/scripts/**/*.{js,mjs}&#39;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><ol start="2"><li>数组通配符</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">input</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;./src/scripts/base.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;./src/scripts/utils.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;./src/scripts/pages/*.js&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  ]</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">input</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;./src/scripts/base.js&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;./src/scripts/utils.js&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;./src/scripts/pages/*.js&#39;</span></span>
<span class="line"><span style="color:#24292E;">  ]</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><ol start="3"><li>对象方式</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">input</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;comm/index&#39;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;./src/scripts/base.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;./src/scripts/utils.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;index&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;./src/scripts/index.js&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;pages&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;./src/scripts/pages/*.js&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">input</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;comm/index&#39;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;./src/scripts/base.js&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;./src/scripts/utils.js&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;index&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;./src/scripts/index.js&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;pages&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;./src/scripts/pages/*.js&#39;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>最后生成 3 个JS文件</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">dist/scripts/comm/index.js</span></span>
<span class="line"><span style="color:#e1e4e8;">dist/scripts/index.js</span></span>
<span class="line"><span style="color:#e1e4e8;">dist/scripts/pages.js</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">dist/scripts/comm/index.js</span></span>
<span class="line"><span style="color:#24292e;">dist/scripts/index.js</span></span>
<span class="line"><span style="color:#24292e;">dist/scripts/pages.js</span></span></code></pre></div><h2 id="babel转译" tabindex="-1">babel转译 <a class="header-anchor" href="#babel转译" aria-label="Permalink to &quot;babel转译&quot;">​</a></h2><h2 id="module配置" tabindex="-1">module配置 <a class="header-anchor" href="#module配置" aria-label="Permalink to &quot;module配置&quot;">​</a></h2>`,15),o=[e];function c(t,r,i,E,d,y){return a(),n("div",null,o)}const b=s(p,[["render",c]]);export{h as __pageData,b as default};
